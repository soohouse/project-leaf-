<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.spring.leaf.user.mapper.IUserMapper">

	<!-- UserVO와 데이터베이스 컬럼명을 일치시켜주는 resultMap인 UserMap 선언 -->
	<resultMap type="com.spring.leaf.user.command.UserVO" id="UserMap">
		<id property="userNO" column="user_NO" />
		<result property="userID" column="user_ID" />
		<result property="userPW" column="user_PW" />
		<result property="userName" column="user_name" />
		<result property="userEmail1" column="user_email1" />
		<result property="userEmail2" column="user_email2" />
		<result property="userPhone1" column="user_phone1" />
		<result property="userPhone2" column="user_phone2" />
		<result property="userPhone3" column="user_phone3" />
		<result property="userDate" column="user_date" />
		<result property="userIntro" column="user_intro" />
		<result property="commonCODE" column="common_CODE" />
	</resultMap>


	<!-- 일반회원 유저 회원가입 INSERT 쿼리 -->
	<insert id="userRegist">
		INSERT INTO user
			(user_ID, user_PW, user_name, user_email1, user_email2, 
			user_phone1, user_phone2, user_phone3, user_intro)
		VALUES
			(#{userID}, #{userPW}, #{userName}, #{userEmail1}, #{userEmail2},
			#{userPhone1}, #{userPhone2}, #{userPhone3}, #{userIntro})
	</insert>
	
	
	<!-- 일반회원 유저 아이디 중복체크 SELECT 쿼리 -->
	<select id="userIDCheck" resultType="int">
		SELECT COUNT(*)
		FROM user
		WHERE user_ID = #{userID}
	</select>
	
	
	<!-- 일반회원 유저 이메일 중복체크 SELECT 쿼리 -->
	<select id="userEmailCheck" parameterType="map" resultType="int">
		SELECT COUNT(*)
		FROM user
		WHERE user_email1 = #{user_email1}
		AND user_email2 = #{user_email2} 
	</select>
	
	
	<!-- 일반회원 유저 정보 SELECT 쿼리 -->
	<select id="userGetInfo" resultMap="UserMap">
		SELECT *
		FROM user
		WHERE user_ID = #{userID}
	</select>

</mapper>